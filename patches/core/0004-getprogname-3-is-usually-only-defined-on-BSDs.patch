From 4ca612e7d448f23cb52fb3587655e4992cdc3960 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?S=C3=B6ren=20Tempel?= <soeren+git@soeren-tempel.net>
Date: Tue, 27 Feb 2018 17:27:39 +0100
Subject: [PATCH 04/11] getprogname(3) is usually only defined on BSDs

musl libc doesn't have it either, therefore just check for __linux__
instead of __GLIBC__.
---
 base/logging.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/base/logging.cpp b/base/logging.cpp
index 6357b4ba7..b8b1ad025 100644
--- a/base/logging.cpp
+++ b/base/logging.cpp
@@ -89,7 +89,7 @@ static thread_id GetThreadId() {
 }
 
 namespace {
-#if defined(__GLIBC__)
+#if defined(__linux__)
 const char* getprogname() {
   return program_invocation_short_name;
 }
-- 
2.17.1

